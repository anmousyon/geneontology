source('~/Repos/geneontology/code/findAssociation.R')
source('~/Repos/geneontology/code/findAssociation.R')
source('~/Repos/geneontology/code/findAssociation.R')
source('~/Repos/geneontology/code/findAssociation.R')
source('~/Repos/geneontology/code/findAssociation.R')
source('~/Repos/geneontology/code/findAssociation.R')
debugSource('~/Repos/geneontology/code/findAssociation.R')
source('~/Repos/geneontology/code/findAssociation.R')
source('~/Repos/geneontology/code/findAssociation.R')
source('~/Repos/geneontology/code/findAssociation.R')
setwd("~/Repos/geneontology/code")
source('~/Repos/geneontology/code/findAssociation.R')
source('~/Repos/geneontology/code/findAssociation.R')
source('~/Repos/geneontology/code/findAssociation.R')
correct = 0
incorrect = 0
for(i in 1:20){
for( j in length(rules)){
if(length(setdiff(rules[j][0], chosenAnnot[i])) == 0){
if(setdiff(rules[j][1], chosenAnnot[i]) == 0){
correct = correct + 1
}
else{
incorrect = incorrect + 1
}
}
}
}
}
source('~/Repos/geneontology/code/findAssociation.R')
#inspect(rules)
correct = 0
incorrect = 0
for(i in 1:20){
for( j in length(rules)){
if(length(setdiff(rules[j][0], chosenAnnot[i])) == 0){
if(setdiff(rules[j][1], chosenAnnot[i]) == 0){
correct = correct + 1
}
else{
incorrect = incorrect + 1
}
}
}
}
correct = 0
incorrect = 0
for(i in 1:20){
for( j in length(rules)){
if(length(setdiff(rules[j][0], chosenAnnot[i])) == 0){
if(setdiff(rules[j][1], chosenAnnot[i]) == 0){
correct = correct + 1
}
else{
incorrect = incorrect + 1
}
}
}
}
cat(sprint("corrrect %s\n", correct))
cat(sprintf("corrrect %s\n", correct))
cat(sprintf("incorrect %s\n", incorrect))
source('~/Repos/geneontology/code/findAssociation.R')
cat(sprintf("corrrect %s\n", correct))
cat(sprintf("incorrect %s\n", incorrect))
##sort the rules by their lift value
rules_high_lift<-sort(rules, by="lift")
write(rules_high_lift, file=paste("../newrules_", ont, "_thresh_", depthThreshold, "_sort_lift.txt", sep=""), sep="\t", col.names=NA)
str(rules)
rules$lhs
rules.lhs
rules@lhs
rules@lhs@itemInfo$labels
rules@rhs@itemInfo$labels
source('~/Repos/geneontology/code/findAssociation.R')
rules@rhs@itemInfo$labels
str(rules)
source('~/Repos/geneontology/code/findAssociation.R')
source('~/Repos/geneontology/code/findAssociation.R')
source('~/Repos/geneontology/code/findAssociation.R')
source('~/Repos/geneontology/code/findAssociation.R')
str(rules)
rules@lhs@data@i
trans[33]
trans
summary(trans)
inspect(rules)
?inspect(rules)
rules[1000]
inspect(rules[10])
inspect(rules[108])
inspect(rules[1367])
inspect(rules[1000])
rules@lhs@data@factors
rules@lhs@itemsetInfo
rules@lhs@itemset
rules@lhs@itemInfo
?rules
rules.lhs()
lhs(rules)
signature(x="rules")
rules@lhs
rules@lhs[10]
rules@lhs[10][3]
rules@lhs[10][0]
?inspect(rules)
inspect(rules[100])
rules[100]@lhs
rules[100]@lhs@data
rules[100]@lhs@itemInfo
inspect(rules[100])
inspect(rules[1000])
rules[100]@lhs
rules[100]
inspect(rules[100])
inspect(rules[1000])
?rules[1000]
?rules
rules[1000]@lhs@itemInfo$labels
rules@lhs@itemInfo$labels
inspect(rules[1000])
rules[1000]@lhs@data@i
rules[1000]@lhs@data@Dimnames
rules[1000]@lhs@data@p
rules[1000]@lhs@data@Dim
rules[1000]@lhs@data
rules[1000]@lhs@itemsetInfo
rules[1000]@lhs@itemInfo
rules[1000]@lhs@itemInfo$labels
rules[1000]@lhs@itemInfo$labels[1]
rules[1000]@lhs@itemInfo$labels[0]
rules[1000]@lhs@itemInfo$labels
rules[1000]@lhs@itemInfo$labels(1)
rules[1000]@lhs@itemInfo$labels[1]
rules[1000]@lhs@itemInfo$labels
insepct(rules[1000])
inspect(rules[1000])
rules[1000]@info$data
rules[1000]@info$ntransactions
rules[1000]@info$support
rules[1000]@quality$support
rules[1000]@quality$lift
rules[1000]@lhs@itemInfo$labels
str(rules[1000])
?inspect(rules[1000])
rules
rules[1000]
rules[1000]@lhs
rules[1000]
rules[1000][0]
rules[1000][1]
rules[1000][2]
rules[1000][1][0]
rules[1000][1][1]
rules[1000][1][1][1]
rules[1000].lhs
lhs(rules[1000])
rules[1000]
labels(rules[1000])
lhs(labels(rules[1000]))
labels(rules[1000])
all = labels(rules[1000])
cut = unlist(strsplit(all,"=> "))[seq(2,2*l,by=2)]
list(all)
list(all[1])
cut = unlist(strsplit(all,"=> "))
cut
list[cut]
list(cut)
sub = strsplit(cut,",")
sub
lables(rules[1000])
labels(rules[1000])
fsets = eclats(trans)
fsets = eclat(trans)
fsets
as(rules, "data.Frame")
as(rules, "data.frame")
data.frame()
data.frame
as(rules, "data.frame")
"data.frame"
data.frame
all = as(rules, "data.frame")
all
all[0]
inspect(all)
all$rules
all$rules[1000]
all$rules[1000]@lhs
all$rules[1000]
all$rules[999]
all$rules[300]
names(all$rules[300])
str(all$rules[300])
?all$rules[300]
all$rules[300]
all_list=as.list((rules))
str(all$rules[300])
source('~/Repos/geneontology/code/findAssociation.R')
source('~/Repos/geneontology/code/findAssociation.R')
source('~/Repos/geneontology/code/findAssociation.R')
chosenAnnot
chosenAnnot[10]
genes
chosenAnnot[100]
chosenGenes
annotTerms[10]
annotTerms[1000]
annotTerms
chosenAnnot[10]
source('~/Repos/geneontology/code/findAssociation.R')
chosenGo
source('~/Repos/geneontology/code/findAssociation.R')
source('~/Repos/geneontology/code/findAssociation.R')
#generate a set of 20 random numbers less than 400
chosenNums = floor(runif(20, min=0, max=401))
chosenNums
3 %in% chosenNums
49 %in% chosenNums
chosenNums = floor(runif(20, min=0, max=401))
#remove 20 genes from gene list
x = 0
chosenGo = list()
for(i in 1:400) {
if(i+x %in% chosenNums) {
print(i+x)
##get all the information for that gene, for specified ontology
annotTerms<-annot[annot[,3]==genes[i+x] & annot[,9]==ontology & annot[,7]!="IEA",]
##get fifth column of annotation and store in list (set since unique)
chosenGo = c(chosenGo, unique(as.character(annotTerms[,5])))
genes = genes[-(i+x)]
x = x + 1
}
}
##get third column of gene annotation and store in list (set since unique)
genes <- unique(as.character(annot[,3]))
#generate a set of 20 random numbers less than 400
chosenNums = floor(runif(20, min=0, max=401))
#remove 20 genes from gene list
chosenGo = list()
for(i in 1:400) {
if(i %in% chosenNums) {
print(i+x)
##get all the information for that gene, for specified ontology
annotTerms<-annot[annot[,3]==genes[i] & annot[,9]==ontology & annot[,7]!="IEA",]
##get fifth column of annotation and store in list (set since unique)
chosenGo = c(chosenGo, unique(as.character(annotTerms[,5])))
genes = genes[-(i)]
}
}
source('~/Repos/geneontology/code/findAssociation.R')
source('~/Repos/geneontology/code/findAssociation.R')
chosenGo
annotTerms<-annot[annot[,3]==genes[i] & annot[,9]==ontology & annot[,7]!="IEA",]
##get fifth column of annotation and store in list (set since unique)
chosenGo = c(chosenGo, unique(as.character(annotTerms[,5])))
genes = genes[-(i)]
annotTerms
annotTerms[10]
source('~/Repos/geneontology/code/findAssociation.R')
chosenGo
source('~/Repos/geneontology/code/findAssociation.R')
